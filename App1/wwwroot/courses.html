<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ö—É—Ä—Å—ã - Code Basics</title>
    <link rel="stylesheet" href="/css/courses.css">
    <!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º style.css —Ç–æ–ª—å–∫–æ –¥–ª—è header -->
    <link rel="stylesheet" href="/css/style.css">
</head>

<body>
    <header class="header">
        <nav class="nav-container">
            <div class="logo">
                <a href="/" style="color: white; text-decoration: none;">CodeBasics</a>
            </div>
            <ul class="nav-links">
                <li><a href="/courses" style="color: #f39c12;">–ö—É—Ä—Å—ã</a></li>
                <li><a href="/about">–û –ø—Ä–æ–µ–∫—Ç–µ</a></li>
                <div class="auth-buttons">
                    <li><a href="/session/new" class="btn-outline">–í–æ–π—Ç–∏</a></li>
                    <li><a href="/users/new" class="btn">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</a></li>
                    <!-- –î–æ–±–∞–≤–ª—è–µ–º –±–ª–æ–∫ –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è -->
                    <li id="userInfo" style="display: none;">
                        <a href="/dashboard" id="userName"
                            style="margin-right: 10px; color: white; text-decoration: none; cursor: pointer; padding: 8px 12px; border-radius: 4px; transition: background 0.3s ease;"></a>
                        <button onclick="logout()" class="btn-outline"
                            style="background: transparent; border: 1px solid white; color: white; padding: 8px 16px; border-radius: 4px; cursor: pointer;">–í—ã–π—Ç–∏</button>
                    </li>
                </div>
            </ul>
        </nav>
    </header>

    <section class="hero">
        <div class="hero-content">
            <h1>–ù–∞—à–∏ –∫—É—Ä—Å—ã</h1>
            <p>–í—ã–±–µ—Ä–∏—Ç–µ –∫—É—Ä—Å, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–¥—Ö–æ–¥–∏—Ç –∏–º–µ–Ω–Ω–æ –≤–∞–º, –∏ –Ω–∞—á–Ω–∏—Ç–µ —Å–≤–æ–π –ø—É—Ç—å –≤ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–∏</p>
        </div>
    </section>

    <main class="container">
        <div class="courses-grid">
            <!-- –ö—É—Ä—Å Python -->
            <div class="course-card" onclick="location.href='/courses/python'">
                <div class="course-header python">
                    <div class="course-icon">üêç</div>
                    <h2 class="course-title">–û—Å–Ω–æ–≤—ã Python</h2>
                    <div class="course-level">–î–ª—è –Ω–∞—á–∏–Ω–∞—é—â–∏—Ö</div>
                </div>
                <div class="course-body">
                    <p class="course-description">
                        –ò–∑—É—á–∏—Ç–µ –æ—Å–Ω–æ–≤—ã –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ –æ–¥–Ω–æ–º –∏–∑ —Å–∞–º—ã—Ö –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö —è–∑—ã–∫–æ–≤. –û—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –¥–æ —Ñ—É–Ω–∫—Ü–∏–π –∏ –û–û–ü.
                    </p>
                    <ul class="course-features">
                        <li>10 –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏—Ö –∑–∞–¥–∞–Ω–∏–π</li>
                        <li>–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è —Å—Ä–µ–¥–∞</li>
                        <li>–§–∏–Ω–∞–ª—å–Ω—ã–π —ç–∫–∑–∞–º–µ–Ω</li>
                        <li>–°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –æ–± –æ–∫–æ–Ω—á–∞–Ω–∏–∏</li>
                    </ul>
                    <a href="/courses/python" class="course-btn">–ù–∞—á–∞—Ç—å –æ–±—É—á–µ–Ω–∏–µ</a>
                </div>
            </div>

            <!-- –ö—É—Ä—Å ML -->
            <div class="course-card" onclick="location.href='/courses/ml'">
                <div class="course-header ml">
                    <div class="course-icon">ü§ñ</div>
                    <h2 class="course-title">–û—Å–Ω–æ–≤—ã ML-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏</h2>
                    <div class="course-level">–°—Ä–µ–¥–Ω–∏–π —É—Ä–æ–≤–µ–Ω—å</div>
                </div>
                <div class="course-body">
                    <p class="course-description">
                        –ü–æ–≥—Ä—É–∑–∏—Ç–µ—Å—å –≤ –º–∏—Ä –º–∞—à–∏–Ω–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è. –°–æ–∑–¥–∞–≤–∞–π—Ç–µ —Å–≤–æ–∏ –ø–µ—Ä–≤—ã–µ –º–æ–¥–µ–ª–∏ –∏ —Ä–µ—à–∞–π—Ç–µ —Ä–µ–∞–ª—å–Ω—ã–µ –∑–∞–¥–∞—á–∏.
                    </p>
                    <ul class="course-features">
                        <li>10 –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤</li>
                        <li>–†–∞–±–æ—Ç–∞ —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏</li>
                        <li>–§–∏–Ω–∞–ª—å–Ω—ã–π —ç–∫–∑–∞–º–µ–Ω</li>
                        <li>–°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –æ–± –æ–∫–æ–Ω—á–∞–Ω–∏–∏</li>
                    </ul>
                    <a href="/courses/ml" class="course-btn">–ù–∞—á–∞—Ç—å –æ–±—É—á–µ–Ω–∏–µ</a>
                </div>
            </div>

            <!-- –ö—É—Ä—Å AsyncIO -->
            <div class="course-card" onclick="location.href='/courses/asyncio'">
                <div class="course-header asyncio">
                    <div class="course-icon">‚ö°</div>
                    <h2 class="course-title">–û—Å–Ω–æ–≤—ã AsyncIO</h2>
                    <div class="course-level">–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π —É—Ä–æ–≤–µ–Ω—å</div>
                </div>
                <div class="course-body">
                    <p class="course-description">
                        –û—Å–≤–æ–π—Ç–µ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ Python. –°–æ–∑–¥–∞–≤–∞–π—Ç–µ –±—ã—Å—Ç—Ä—ã–µ –∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
                    </p>
                    <ul class="course-features">
                        <li>10 —Å–ª–æ–∂–Ω—ã—Ö –∑–∞–¥–∞–Ω–∏–π</li>
                        <li>–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã</li>
                        <li>–§–∏–Ω–∞–ª—å–Ω—ã–π —ç–∫–∑–∞–º–µ–Ω</li>
                        <li>–°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –æ–± –æ–∫–æ–Ω—á–∞–Ω–∏–∏</li>
                    </ul>
                    <a href="/courses/asyncio" class="course-btn">–ù–∞—á–∞—Ç—å –æ–±—É—á–µ–Ω–∏–µ</a>
                </div>
            </div>
        </div>
    </main>

    <footer class="footer">
        <p>&copy; 2024 CodeBasics. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
    </footer>

    <script>
        // ========== –°–ò–°–¢–ï–ú–ê –ê–í–¢–û–†–ò–ó–ê–¶–ò–ò ==========

        function getToken() {
            return localStorage.getItem('authToken') || localStorage.getItem('token');
        }

        function removeTokens() {
            localStorage.removeItem('authToken');
            localStorage.removeItem('token');
        }

        function showUserInfo(token) {
            try {
                // –ü—ã—Ç–∞–µ–º—Å—è –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞—Ç—å —Ç–æ–∫–µ–Ω
                const base64Url = token.split('.')[1];
                const base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');
                const payload = JSON.parse(decodeURIComponent(atob(base64).split('').map(function(c) {
                    return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);
                }).join('')));

                // –ü—Ä–æ–±—É–µ–º —Ä–∞–∑–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –ø–æ–ª—É—á–µ–Ω–∏—è –∏–º–µ–Ω–∏
                let userName = '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å';

                if (payload.FirstName && payload.LastName) {
                    userName = `${payload.FirstName} ${payload.LastName}`;
                } else if (payload.name) {
                    userName = payload.name;
                } else if (payload.unique_name) {
                    userName = payload.unique_name;
                } else if (payload.email) {
                    userName = payload.email.split('@')[0];
                }

                updateAuthUI(userName);
            } catch (e) {
                console.log('–û—à–∏–±–∫–∞ –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è —Ç–æ–∫–µ–Ω–∞:', e);
                // –ï—Å–ª–∏ –Ω–µ –ø–æ–ª—É—á–∞–µ—Ç—Å—è, –ø—Ä–æ—Å—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å"
                updateAuthUI('–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å');
            }
        }

        function updateAuthUI(userName) {
            const userInfo = document.getElementById('userInfo');
            const authButtons = document.querySelector('.auth-buttons');

            if (userInfo && authButtons) {
                document.getElementById('userName').textContent = userName;
                userInfo.style.display = 'flex';

                // –°–∫—Ä—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫–∏ –≤—Ö–æ–¥–∞/—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
                const loginBtn = authButtons.querySelector('a[href="/session/new"]');
                const registerBtn = authButtons.querySelector('a[href="/users/new"]');
                if (loginBtn) loginBtn.parentElement.style.display = 'none';
                if (registerBtn) registerBtn.parentElement.style.display = 'none';
            }
        }

        function initializeAuth() {
            const token = getToken();

            if (token) {
                console.log('–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω');
                showUserInfo(token);
            } else {
                console.log('–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω');
            }
        }

        function logout() {
            removeTokens();
            location.reload();
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
        document.addEventListener('DOMContentLoaded', function() {
            initializeAuth();

            // –ê–Ω–∏–º–∞—Ü–∏—è –∫–∞—Ä—Ç–æ—á–µ–∫ (—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥)
            const cards = document.querySelectorAll('.course-card');
            cards.forEach((card, index) => {
                card.style.opacity = '0';
                card.style.transform = 'translateY(30px)';
                card.style.transition = 'all 0.6s ease';

                setTimeout(() => {
                    card.style.opacity = '1';
                    card.style.transform = 'translateY(0)';
                }, index * 200);
            });
        });
    </script>
</body>

</html>